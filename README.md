### 分布式调度

**分布式调度就是在分布式环境下做定时任务管理**

应用场景：

比如说 在 物流信息推送，出库，日志搜集，报表分析等场景下，都可以使用这种定时任务

当一个定时任务运行在分布式环境下的时候，一个定时任务会被部署多份，但是只会有一个定时任务在执行，其它部署的定时任务服务就处于等待状态

分布式调度系统，解决的就是多机部署定时任务，将一个任务划分成多个子任务，由多个定时任务服务同时执行子任务。

###### Elastic-Job是当当⽹开源的⼀个分布式调度解决⽅案，基于Quartz⼆次开发的，由两个相互独⽴的⼦项 ⽬Elastic-Job-Lite和Elastic-Job-Cloud组成。Elastic-Job-Lite，它定位为轻量级⽆中⼼ 化解决⽅案，使⽤Jar包的形式提供分布式任务的协调服务。

- 分布式环境中调度协调，可以防止重复执行
- 弹性扩容缩容，当集群中增加某⼀个实例，它应当也能够被选举并执⾏任务；当集群减少⼀个实例 时，它所执⾏的任务能被转移到别的实例来执⾏。
- 失效转移，当某实例在任务执⾏失败后，会被转移到其他实例执⾏
- 错过执行作业重触发，若因某种原因导致作业错过执⾏，⾃动记录错过执⾏的作业，并在上次作业 完成后⾃动触发。
- 作业分片一致性，保证同一分片在分布式环境中仅一个执行实例
- 支持并行调度，支持任务分片，可以将⼀个任务分为多个⼩任务项在多个实例同时执⾏



#### Elastic-Job依赖于Zookeeper进⾏分布式协调，每一个任务会注册到ZK，主要由ZK控制分布式任务



![image](https://github.com/flyingzh/resume/tree/master/image/20200409131516638.png)